import{r as u,j as e,P as v,T as y,S as b,x as j}from"./index-Dbp6cY2J.js";import{T as l}from"./TextField-CHFAi5Wa.js";import{B as C}from"./Button-BL7aqzdx.js";import{S,A as w}from"./Snackbar-Dz79FgWn.js";import"./Menu-BX0TDKzG.js";import"./useSlot-DopozSqz.js";const z=()=>{const[n,d]=u.useState({title:"",price:"",duration:"",description:""}),[m,p]=u.useState(!1),[t,h]=u.useState({open:!1,message:"",severity:"success",vertical:"top",horizontal:"right"}),o=a=>{const{name:r,value:s}=a.target;d(i=>({...i,[r]:s}))},f=async a=>{var r,s,i;a.preventDefault(),p(!0);try{const c=await j.post("http://172.236.30.193:8008/api/plan/create",n);x({message:((r=c.data)==null?void 0:r.message)||"Plan created successfully!",severity:"success"}),d({title:"",price:"",duration:"",description:""})}catch(c){x({message:((i=(s=c.res)==null?void 0:s.data)==null?void 0:i.message)||"Something went wrong",severity:"error"})}finally{p(!1)}},x=({vertical:a="top",horizontal:r="right",message:s,severity:i})=>{h({open:!0,message:s,severity:i,vertical:a,horizontal:r})},g=()=>{h(a=>({...a,open:!1}))};return e.jsxs(e.Fragment,{children:[e.jsxs(v,{sx:{p:3,mx:"auto",mt:0,width:"100%",maxWidth:600},children:[e.jsx(y,{variant:"h5",mb:3,color:"primary.dark",children:"Create New Plan"}),e.jsx("form",{onSubmit:f,children:e.jsxs(b,{spacing:2,sx:{pt:2},children:[e.jsx(l,{label:"Title",name:"title",value:n.title,onChange:o,required:!0,fullWidth:!0}),e.jsx(l,{label:"Price",name:"price",type:"number",value:n.price,onChange:o,required:!0,fullWidth:!0}),e.jsx(l,{label:"Duration (in months)",name:"duration",type:"number",value:n.duration,onChange:o,required:!0,fullWidth:!0}),e.jsx(l,{label:"Description",name:"description",value:n.description,onChange:o,required:!0,multiline:!0,rows:3,fullWidth:!0}),e.jsx(C,{sx:{fontWeight:400},type:"submit",variant:"contained",color:"primary",disabled:m,children:m?"Submitting...":"Create Plan"})]})})]}),e.jsx(S,{open:t.open,autoHideDuration:6e3,onClose:g,anchorOrigin:{vertical:t.vertical,horizontal:t.horizontal},children:e.jsx(w,{onClose:g,severity:t.severity,variant:"filled",sx:{width:"100%"},children:t.message})},t.vertical+t.horizontal)]})};export{z as default};
