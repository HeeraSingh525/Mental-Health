import{r as i,j as e,P as j,T as u,S as b}from"./index-C8xfDxDl.js";import{a as y}from"./index-xsH4HHeE.js";import{T as o}from"./TextField-B5EzcJf0.js";import{B as S}from"./Button-CSP7k2Uo.js";import"./Menu-DgP7ofbN.js";import"./resolveComponentProps-B6L4jY4Q.js";const q=()=>{const[t,c]=i.useState({title:"",price:"",duration:"",description:""}),[m,d]=i.useState(!1),[p,h]=i.useState(""),[x,f]=i.useState(""),a=l=>{const{name:s,value:n}=l.target;c(r=>({...r,[s]:n}))},g=async l=>{var s,n;l.preventDefault(),d(!0),h(""),f("");try{const r=await y.post("http://localhost:5000/api/plan/create",t);h("Plan created successfully!"),console.log(r),c({title:"",price:"",duration:"",description:""})}catch(r){f(((n=(s=r.response)==null?void 0:s.data)==null?void 0:n.message)||"Something went wrong")}finally{d(!1)}};return e.jsxs(j,{sx:{p:3,mx:"auto",mt:0},children:[e.jsx(u,{variant:"h5",mb:3,color:"primary.dark",children:"Create New Plan"}),e.jsx("form",{onSubmit:g,children:e.jsxs(b,{spacing:2,children:[e.jsx(o,{label:"Title",name:"title",value:t.title,onChange:a,required:!0,fullWidth:!0}),e.jsx(o,{label:"Price",name:"price",type:"number",value:t.price,onChange:a,required:!0,fullWidth:!0}),e.jsx(o,{label:"Duration (in months)",name:"duration",type:"number",value:t.duration,onChange:a,required:!0,fullWidth:!0}),e.jsx(o,{label:"Description",name:"description",value:t.description,onChange:a,required:!0,multiline:!0,rows:3,fullWidth:!0}),e.jsx(S,{type:"submit",variant:"contained",color:"primary",disabled:m,children:m?"Submitting...":"Create Plan"})]})}),p&&e.jsx(u,{mt:2,color:"success.main",children:p}),x&&e.jsx(u,{mt:2,color:"error.main",children:x})]})};export{q as default};
